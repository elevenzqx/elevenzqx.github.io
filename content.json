{"posts":[{"title":"开发环境搭建","text":"SSH名密登陆 生成 ssh 密匙, 连续三次回车 1ssh-keygen 将本地公钥的 id_rsa.pub 内容放到被控端的 ~/.ssh/authorized_keys 下面 12# 上传 id_rsa.pub 到服务端cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys 错误 Remote host key has changed, port forwarding is disabled. 一般为 ssh 本地缓存引起 解决方法: 删除 ~/.ssh/known_hosts 文件，或者删除对应的 IP 记录所在行 容器安装首先，介绍一个安装工具时必须的命令 apt-get install. apt-get install是应用程序管理器，用于一键安装软件包，与源码安装不同的是，该指令会自动检测并安装依赖，而且用 apt-get 安装的包都是成熟的软件包，基本不存在安装包有严重bug或者文件缺失的情况。 1、首先执行如下命令，更新相关资源 apt-get update 将所有包的来源更新，也就是提取最新的包信息，这一命令使用率非常高。 2、安装telnet apt-get install telnet 3、安装curl apt-get install curl 4、安装ifconfig apt-get install net-tools 5、安装vim apt-get install vim 6、安装ping apt-get install inetutils-ping Docker 中文字体安装使用 python 绘图时显示全是方框，安装中文字体解决 123sudo apt-get install ttf-wqy-microhei #文泉驿-微米黑sudo apt-get install ttf-wqy-zenhei #文泉驿-正黑sudo apt-get install xfonts-wqy #文泉驿-点阵宋体* 123456789101112131415161718192021222324252627282930313233343536373839404142# 安装中文支持与中文mansudo apt-get install language-pack-zh-hanssudo vi /etc/default/locale======================LANG=&quot;zh_CN.UTF-8&quot;LANGUAGE=&quot;zh_CN:zh&quot;LC_NUMERIC=&quot;zh_CN&quot;LC_TIME=&quot;zh_CN&quot;LC_MONETARY=&quot;zh_CN&quot;LC_PAPER=&quot;zh_CN&quot;LC_NAME=&quot;zh_CN&quot;LC_ADDRESS=&quot;zh_CN&quot;LC_TELEPHONE=&quot;zh_CN&quot;LC_MEASUREMENT=&quot;zh_CN&quot;LC_IDENTIFICATION=&quot;zh_CN&quot;LC_ALL=&quot;zh_CN.UTF-8&quot;======================sudo vi /etc/environment======================LANG=&quot;zh_CN.UTF-8&quot;LANGUAGE=&quot;zh_CN:zh&quot;LC_NUMERIC=&quot;zh_CN&quot;LC_TIME=&quot;zh_CN&quot;LC_MONETARY=&quot;zh_CN&quot;LC_PAPER=&quot;zh_CN&quot;LC_NAME=&quot;zh_CN&quot;LC_ADDRESS=&quot;zh_CN&quot;LC_TELEPHONE=&quot;zh_CN&quot;LC_MEASUREMENT=&quot;zh_CN&quot;LC_IDENTIFICATION=&quot;zh_CN&quot;LC_ALL=&quot;zh_CN.UTF-8&quot;========================# 修改环境文件(环境变量(所有用户)):sudo vi /etc/profile=======================LANG=&quot;zh_CN.UTF-8&quot; Ubuntu 安装中文字体 从本机 C:\\Windows\\Fonts 拷贝或者网络上下载你想要安装的字体文件（*.ttf文件）到/usr/share/fonts/zh_CN 目录下（如果系统中没有此目录，则自行mkdir创建，亦可重命名为自己喜欢的文件夹名。如果是ttc文件，请改后缀为ttf） 修改字体文件的权限，使root用户以外的用户也可以使用 12cd /usr/share/fonts/chinese/TrueTypechmod 755 *.ttf 建立字体缓存 123mkfontscale （如果提示 mkfontscale: command not found，则需要安装sudo apt-get install ttf-mscorefonts-installer)mkfontdirfc-cache -fv （如果提示 fc-cache: command not found，则需要安装sudo apt-get install fontconfig) PLT设置中文字体 删除 ~/.cache/matplotlib 下文件 font*.json/cache 查看字体列表在终端运行: 1fc-list :lang=zh","link":"/2023/09/06/development-env/"},{"title":"hexo使用手册","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2023/06/06/hello-world/"},{"title":"Linux 远程 GUI 显示","text":"windowns 使用Windows 这边需要安装 x11 程序，常见商业软件 Xmanager，免费的 XMing 和 VcXsrv 这里选择微软的开源 VcXsrv https://sourceforge.net/projects/vcxsrv/ 安装后进行简单配置: 第一步: 保留默认 Multiple windows 和 Display number -1 第二步: 选 start no client 第三步: 这一步比较重要，勾选 Disable acccess control WSL 下使用docker 下启用设置启动的环境变量信息 1docker run -ti --rm -e DISPLAY=host.docker.internal:0.0 firefox 或者 1export DISPLAY=host.docker.internal:0.0 拓展说明: 从 18.03 版本开始，Docker 推荐容器使用 host.docker.internal 来访问宿主机上的服务，容器的 DNS 会自动解析到宿主机的内部IP上， 参考 Docker for Windows 的官方文档： I WANT TO CONNECT FROM A CONTAINER TO A SERVICE ON THE HOST linux 子系统下未测试 12345678910docker run \\-itd \\--net=host \\-e DISPLAY=$DISPLAY \\-v /tmp/.X11-unix:/tmp/.X11-unix \\--name alpine-firefox \\alpine sh &amp;&amp; \\\\docker start alpine-firefox &amp;&amp; \\docker exec -it alpine-firefox sh 测试软件12apt install x11-appsxeyes macos 使用 在 XQuartz 下载、安装、运行，当前版本是 2016-10-29 的 2.7.11 在 XQuartz 的配置窗口里勾选 「Allow connections from network clients」 添加访问控制白名单 xhost + 127.0.0.1，或禁用访问控制 xhost + 运行容器并通过DISPLAY环境变量指定X11转发地址 docker run -e DISPLAY=host.docker.internal:0 jess/firefox","link":"/2023/10/09/linux-gui-show/"},{"title":"Linux系统中网络PPS值测量","text":"网络设备的转发性能以“包转发性能”来表示，即设备在单位时间内能够处理多少个“包”，这决定了设备转发能力的强弱。包转发性能比较常见的单位是“PPS”，即Packet Per Second(包每秒)。 线速转发如果一个端口（包括交换机、服务器）在满负载的情况下，对帧进行无差错的转发称为线速转发。 由以太网的设计规则，以太网帧最小64字节，根据端口速度，计算可以得出线速转发的PPS值。 Linux下如何统计出PPS值使用sar命令1sar -n DEV 5 10000 编写shell脚本可以获取PPS值 1234567891011121314151617#!/bin/bashINTERVAL=&quot;10&quot; # update interval in secondswhile truedo R1=`cat /sys/class/net/eth0/statistics/rx_packets` T1=`cat /sys/class/net/eth0/statistics/tx_packets` sleep $INTERVAL R2=`cat /sys/class/net/eth0/statistics/rx_packets` T2=`cat /sys/class/net/eth0/statistics/tx_packets` TXPPS=`expr $T2 - $T1` RXPPS=`expr $R2 - $R1` # TPS=`expr $TXPPS / 10` RPS=`expr $RXPPS / 10` echo &quot;TX: $TPS pps RX: $RPS pps&quot; echo &quot;TX: $TPS pps RX: $RPS pps&quot; &gt;&gt; /tmp/pps.logdone 如何测试网卡极限PPS值网络的带宽是恒定的，为了获取更多的PPS，可以将数据包减到最小，由于TCP包需要建立连接而UDP不需要，因此UDP小包是测试PPS极限值的最佳选择。 根据CloudFlare（参考资料1）里面的提示，我们根据其源码，编译了udp发包和收包的程序，并将其运行在服务器上。 如下图，我们使用了3台虚拟机客户端发包，1台虚拟机收包，其结果如下： 10.140.1.22为接收端，其余为发送端，根据图中显示，发送数据量PPS接近26万，而接收端只能接受20万左右。 实际测试中，系统由于网络PPS达到了极限，SSH无法登陆，可以登陆控制台查看日志。 如何优化一般来说虚拟机差不多能达到15W-20W的PPS，物理机是100W多，如果低于平均水平，需要检查和优化下相关内核的网络参数了。 参考资料https://blog.cloudflare.com/how-to-receive-a-million-packets/http://www.jianshu.com/p/242e9b930240https://kb.juniper.net/InfoCenter/index?page=content&amp;id=KB14737","link":"/2020/05/01/linux-pps/"},{"title":"端口映射","text":"当一台服务器拥有公网IP，或者域名解析的时候（这个可以使用ddns进行配置），我们其他的服务器上面的服务也想映射出来，那么我们可以选择重新获取一个公网IP或者域名解析，但是这种方法会增加我们的消费，下面我们使用ssh来实现端口映射，从而实现其他服务器上的服务也能实现外网访问的操作 使用命令转发到远端：ssh -C -f -N -g -L 本地端口:目标IP:目标端口 用户名@目标IP 转发到本地：ssh -C -f -N -g –R 本地端口:目标IP:目标端口 用户名@目标IP 1234567891011-C，是进行数据压缩。-f，是后台认证用户/密码，通常和-N连用，不用登录到远程主机。只有当提示用户名密码的时候才转向前台。-N，是不执行远端命令，在只是端口转发时这条命令很有用处。-g ，在-L/-R/-D参数中，是允许远端主机连接本地转发端口，如果不加这个参数，只允许本地主机建立连接。-L，则是将本地端口映射到远端主机端口。本地端口:目标IP:目标端口-R，表明是将远端主机端口映射到本地端口。本地端口:目标IP:目标端口","link":"/2023/08/08/ssh-mapper/"}],"tags":[{"name":"git","slug":"git","link":"/tags/git/"},{"name":"Hexo","slug":"Hexo","link":"/tags/Hexo/"},{"name":"markdown","slug":"markdown","link":"/tags/markdown/"},{"name":"js","slug":"js","link":"/tags/js/"},{"name":"linux","slug":"linux","link":"/tags/linux/"},{"name":"网络","slug":"网络","link":"/tags/%E7%BD%91%E7%BB%9C/"}],"categories":[{"name":"环境搭建","slug":"环境搭建","link":"/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"name":"应用","slug":"应用","link":"/categories/%E5%BA%94%E7%94%A8/"},{"name":"linux","slug":"linux","link":"/categories/linux/"},{"name":"后台","slug":"环境搭建/后台","link":"/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E5%90%8E%E5%8F%B0/"}],"pages":[{"title":"关于我","text":"我是关于我的页面","link":"/about/index.html"}]}